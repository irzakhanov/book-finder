(this["webpackJsonpsearch-books"]=this["webpackJsonpsearch-books"]||[]).push([[0],{41:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var c=a(0),o=a.n(c),s=a(19),n=a.n(s),i=a(13),r=(a(41),a(10)),l=a(4),j=a(18),d=a(16),b=a.n(d),h=(a(26),a(1));var u=function(e){var t=e.searchBooks,a=o.a.useState(""),c=Object(r.a)(a,2),s=c[0],n=c[1],i=o.a.useState("all"),l=Object(r.a)(i,2),j=l[0],d=l[1],b=o.a.useState("relevance"),u=Object(r.a)(b,2),O=u[0],m=u[1],x=function(e){switch(e.target.name){case"categories":d(e.target.value);break;case"sort-by":m(e.target.value);break;case"text":n(e.target.value);break;default:console.log("----")}};return Object(h.jsxs)("div",{className:"search-block",children:[Object(h.jsxs)("div",{className:"search-input",children:[Object(h.jsx)("input",{type:"text",name:"text",onChange:x,value:s}),Object(h.jsx)("button",{onClick:function(){s.length>0?t({inputText:s,category:j,sortBy:O}):alert("Enter text...")},children:"Search"})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Categories"}),Object(h.jsxs)("select",{name:"categories",onChange:x,children:[Object(h.jsx)("option",{value:"all",children:"All"}),Object(h.jsx)("option",{value:"art",children:"Art"}),Object(h.jsx)("option",{value:"biography",children:"Biography"}),Object(h.jsx)("option",{value:"computers",children:"Computers"}),Object(h.jsx)("option",{value:"history",children:"History"}),Object(h.jsx)("option",{value:"medical",children:"Medical"}),Object(h.jsx)("option",{value:"poetry",children:"Poetry"})]})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("span",{children:"Sorting by"}),Object(h.jsxs)("select",{name:"sort-by",onChange:x,children:[Object(h.jsx)("option",{value:"relevance",children:"Relevance"}),Object(h.jsx)("option",{value:"newest",children:"newest"})]})]})]})};var O=function(e){var t=e.searchBooks;return Object(h.jsx)("div",{className:"header",children:Object(h.jsxs)("div",{className:"header__inner",children:[Object(h.jsx)("h1",{className:"header__title",children:"Book finder"}),Object(h.jsx)(u,{searchBooks:t})]})})};a(66);function m(e){var t=e.title,a=e.imageUrl,c=e.category,o=e.authors;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"book-card__img",children:Object(h.jsx)("img",{src:a,alt:""})}),Object(h.jsx)("h2",{className:"book-card__title",children:t}),Object(h.jsx)("p",{className:"book-card__category",children:c[0]}),o.map((function(e,t){return Object(h.jsx)("span",{className:"book-card__authors",children:e+", "},t)}))]})}m.defaultProps={title:"-------",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_Mz3sqDvFMNTgft394pfjhZlsx7OWD47o3A&usqp=CAU",category:["----"],authors:["Unknow"]};var x=m,v=a(17),p=a.n(v);var g=function(){var e=Object(l.g)().id,t=o.a.useState({}),a=Object(r.a)(t,2),c=a[0],s=a[1],n=o.a.useState(!1),i=Object(r.a)(n,2),j=i[0],d=i[1];return o.a.useEffect((function(){p.a.get('https://www.googleapis.com/books/v1/volumes?q="'.concat(e,'"')).then((function(e){var t=e.data;s(t.items[0]),d(!0)})).catch((function(e){return console.log(e)}))}),[e]),Object(h.jsx)("div",{className:"container",children:j?Object(h.jsxs)("div",{className:"book-page",children:[Object(h.jsx)("div",{className:"book-image",children:Object(h.jsx)("img",{src:c.volumeInfo.imageLinks?c.volumeInfo.imageLinks.thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_Mz3sqDvFMNTgft394pfjhZlsx7OWD47o3A&usqp=CAU",alt:""})}),Object(h.jsxs)("div",{className:"book-info",children:[Object(h.jsx)("h2",{className:"book-info__title",children:c.volumeInfo.title}),Object(h.jsxs)("ul",{className:"book-info__categories",children:[Object(h.jsx)("li",{className:"li-title",children:"Categories: "}),c.volumeInfo.categories?c.volumeInfo.categories.map((function(e){return Object(h.jsx)("li",{children:e},e)})):"-----"]}),Object(h.jsx)("p",{className:"book-info__description",children:c.volumeInfo.description}),Object(h.jsxs)("ul",{className:"book-info__authors",children:[Object(h.jsx)("li",{className:"li-title",children:"Authors: "}),c.volumeInfo.authors?c.volumeInfo.authors.map((function(e,t){return Object(h.jsx)("li",{children:e},t)})):"Unknow"]}),Object(h.jsxs)("div",{className:"book-info__original-link",children:[Object(h.jsx)("span",{children:"Original links: "}),Object(h.jsx)("a",{href:c.volumeInfo.previewLink,children:"Preview link"}),Object(h.jsx)("a",{href:c.volumeInfo.infoLink,children:"Info link"})]})]})]}):Object(h.jsx)("div",{className:"loader",style:{paddingTop:"40vh"},children:Object(h.jsx)(b.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})})})},f=function(e,t){return function(a){var c=e.inputText,o=e.category,s=e.sortBy;a(y(!1)),p.a.get("https://www.googleapis.com/books/v1/volumes?q=intitle:".concat(c,"+subject:").concat("all"!==o?o:"","&orderBy=").concat(s,"&maxResults=30&startIndex=").concat(t)).then((function(e){var t=e.data;a(k(t)),a(y(!0))})).catch((function(e){return console.log(e)}))}},k=function(e){return{type:"SET_BOOKS",payload:e}},y=function(e){return{type:"SET_LOADED",payload:e}},_=function(e){return{type:"SET_LOADED_MORE",payload:e}},N=function(e){return{type:"START_LOADING",payload:e}};a(89);var I=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.books})),a=t.items,c=t.totalItems,s=t.isLoaded,n=t.isLoadedMore,d=t.startLoading,u=o.a.useState(""),m=Object(r.a)(u,2),v=m[0],y=m[1],I=o.a.useState(1),w=Object(r.a)(I,2),L=w[0],S=w[1];return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(l.d,{children:[Object(h.jsxs)(l.b,{exact:!0,path:"/",children:[Object(h.jsx)(O,{searchBooks:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y(t),e(N(!0)),e(f(t,a))}}),d?s?Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("h3",{className:"found-books",children:["Found ",c," books"]}),Object(h.jsx)("div",{className:"books",children:a&&a.map((function(e,t){return Object(h.jsx)(i.b,{className:"book-card",to:"books/".concat(e.id),children:Object(h.jsx)(x,{title:e.volumeInfo.title,category:e.volumeInfo.categories,authors:e.volumeInfo.authors,imageUrl:e.volumeInfo.imageLinks&&e.volumeInfo.imageLinks.smallThumbnail})},e.id+t)}))}),Object(h.jsx)("div",{className:"load-more",children:n?Object(h.jsx)(b.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80}):Object(h.jsx)("button",{onClick:function(){var t,a;e(_(!0)),e((t=v,a=30*L,function(e){var c=t.inputText,o=t.category,s=t.sortBy;p.a.get("https://www.googleapis.com/books/v1/volumes?q=intitle:".concat(c,"+subject:").concat("all"!==o?o:"","&orderBy=").concat(s,"&maxResults=30&startIndex=").concat(a)).then((function(t){var a=t.data;e(k(a)),e(_(!1))})).catch((function(e){return console.log(e)}))})),S(L+1)},children:"Load more"})})]}):Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)(b.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})}):Object(h.jsx)("div",{className:"empthy",children:Object(h.jsx)("h2",{children:"empthy"})})]}),Object(h.jsx)(l.b,{path:"/books/:id",children:Object(h.jsx)(g,{})}),Object(h.jsx)(l.a,{to:"/"})]})})},w=a(12),L=a(36),S=a(11),T=a(25),E={items:[],totalItems:0,isLoaded:!1,isLoadedMore:!1,startLoading:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":var a=e.items?[].concat(Object(T.a)(e.items),Object(T.a)(t.payload.items)):t.payload.items;return Object(S.a)(Object(S.a)({},e),{},{items:a,totalItems:t.payload.totalItems});case"SET_LOADED":return Object(S.a)(Object(S.a)({},e),{},{isLoaded:t.payload});case"SET_LOADED_MORE":return Object(S.a)(Object(S.a)({},e),{},{isLoadedMore:t.payload});case"START_LOADING":return Object(S.a)(Object(S.a)({},e),{},{startLoading:t.payload});default:return e}},D=Object(w.b)({books:A}),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.c,F=Object(w.d)(D,B(Object(w.a)(L.a)));n.a.render(Object(h.jsx)(j.a,{store:F,children:Object(h.jsx)(i.a,{children:Object(h.jsx)(I,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.7dd6c33b.chunk.js.map